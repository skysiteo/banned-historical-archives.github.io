"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[416],{5578:function(t,e,n){n.d(e,{Z:function(){return B}});var r=n(6447),i=n(7294),o=n(9499),a=n(948),s=n(1796),c=n(8462),u=n(7212),f=n(8619),l=n(9334),p=n(8780),h=n(326),d=n(2293),m=n(7357),x=n(7533),v=n(155),g=n(5861),y=n(3156),b=n(1057),j=n(7600),Z=n(1163),w=n(5449),C=n(787),k=n(3946),_=n(2761),O=n(5893),A=(0,a.ZP)("div")(function(t){var e=t.theme;return(0,o.Z)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:(0,s.Fq)(e.palette.common.white,.15),"&:hover":{backgroundColor:(0,s.Fq)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"})}),P=(0,a.ZP)("div")(function(t){return{padding:t.theme.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}}),S=(0,a.ZP)(C.ZP)(function(t){var e=t.theme;return{color:"inherit","& .MuiInputBase-input":(0,o.Z)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),")"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"})}}),E=[{name:"首页",path:"/"},{name:"文稿",path:"/articles"},{name:"音乐",path:"/music"},{name:"图库",path:"/gallery"}];function D(){var t=(0,Z.useRouter)(),e=(0,i.useState)(""),n=e[0],o=e[1],a=(0,i.useState)(!1),s=a[0],C=a[1],D=function(){C(!s)},I=(0,O.jsx)(m.Z,{onClick:D,sx:{textAlign:"center"},children:(0,O.jsx)(c.Z,{children:E.map(function(t){return(0,O.jsx)(u.ZP,{disablePadding:!0,children:(0,O.jsx)(f.Z,{sx:{textAlign:"center"},href:t.path,target:"_blank",children:(0,O.jsx)(l.Z,{primary:t.name})})},t.name)})})});return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(d.Z,{position:"static",children:(0,O.jsx)(y.Z,{maxWidth:"xl",children:(0,O.jsxs)(v.Z,{disableGutters:!0,children:[(0,O.jsxs)(r.Z,{sx:{position:"relative",ml:1,transform:"translateY(4px)"},children:[(0,O.jsx)(p.Z,{sx:{width:20,position:"absolute",bottom:"50%",left:"50%",transform:"translateX(-50%)"}}),(0,O.jsx)(j.Z,{})]}),(0,O.jsx)(g.Z,{variant:"h6",noWrap:!0,component:"a",sx:{ml:1,mr:2,fontWeight:700,letterSpacing:".3rem",textDecoration:"none",cursor:"pointer"},style:{color:"white"},href:"/",onClick:function(){return t.push("/")},children:"和谐历史档案馆"}),(0,O.jsxs)(A,{sx:{display:{xs:"none",sm:"none",md:"flex",lg:"flex",xl:"flex"}},children:[(0,O.jsx)(P,{children:(0,O.jsx)(_.Z,{})}),(0,O.jsx)(S,{placeholder:"全站搜索",onKeyDown:function(e){if("Enter"===e.key){if("localhost"===location.hostname){t.push({pathname:"/search/[keyword]",query:{keyword:n}});return}window.open("https://duckduckgo.com?q="+encodeURIComponent("site:banned-historical-archives.github.io "+n),"_blank")}},value:n,onChange:function(t){return o(t.target.value)},inputProps:{"aria-label":"search"}})]}),(0,O.jsx)(r.Z,{sx:{flex:1}}),(0,O.jsxs)(r.Z,{sx:{display:{xs:"none",sm:"flex"}},direction:"row",justifyContent:"flex-end",children:[E.map(function(e){var n=e.name,r=e.path;return(0,O.jsx)(b.Z,{sx:{color:"white"},onClick:function(){return t.push(r)},children:n},r)}),(0,O.jsxs)(b.Z,{href:"https://github.com/banned-historical-archives/banned-historical-archives.github.io/issues",target:"_blank",sx:{color:"white"},children:[(0,O.jsx)(w.Z,{sx:{mr:1}}),"讨论"]})]}),(0,O.jsx)(k.Z,{size:"small",edge:"start",color:"inherit","aria-label":"menu",sx:{display:{xs:"flex",sm:"none"}},onClick:D,children:(0,O.jsx)(h.Z,{})})]})})}),(0,O.jsx)(m.Z,{component:"nav",children:(0,O.jsx)(x.ZP,{variant:"temporary",anchor:"right",open:s,onClose:D,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:240}},children:I})})]})}function I(){return null}var R=n(8078);function B(t){var e=t.children,n=(0,i.useState)(!1),o=n[0],a=n[1],s=(0,Z.useRouter)();return(0,i.useEffect)(function(){var t=function(t){a(!0)},e=function(){a(!1)};return s.events.on("routeChangeStart",t),s.events.on("routeChangeComplete",e),s.events.on("routeChangeError",e),function(){s.events.off("routeChangeStart",t),s.events.off("routeChangeComplete",e),s.events.off("routeChangeError",e)}},[s]),(0,O.jsx)(O.Fragment,{children:(0,O.jsxs)(r.Z,{sx:{position:"absolute",height:"100%",width:"100%"},direction:"column",children:[(0,O.jsx)(D,{}),o?(0,O.jsxs)(r.Z,{spacing:1,p:2,children:[(0,O.jsx)(R.Z,{variant:"text",sx:{fontSize:"1rem"}}),(0,O.jsx)(R.Z,{variant:"rectangular",height:60}),(0,O.jsx)(R.Z,{variant:"rectangular",height:60}),(0,O.jsx)(R.Z,{variant:"rectangular",height:60}),(0,O.jsx)(R.Z,{variant:"rectangular",height:60})]}):(0,O.jsx)("main",{style:{flex:1,position:"relative",overflow:"hidden"},children:e}),(0,O.jsx)(I,{})]})})}},6350:function(t,e,n){n.d(e,{Az:function(){return m},FB:function(){return l},Pc:function(){return h},Wb:function(){return d},oD:function(){return x},oW:function(){return p}});var r=n(6835),i=n(9499),o=n(7812);n(7794);var a=n(2027);function s(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(t,e)}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach(function(e){(0,i.Z)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function l(t){var e="0123456789abcdef";function n(t){var n,r="";for(n=0;n<=3;n++)r+=e.charAt(t>>8*n+4&15)+e.charAt(t>>8*n&15);return r}function r(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function i(t,e,n,i,o,a){var s;return r((s=r(r(e,t),r(i,a)))<<o|s>>>32-o,n)}function o(t,e,n,r,o,a,s){return i(e&n|~e&r,t,e,o,a,s)}function a(t,e,n,r,o,a,s){return i(e&r|n&~r,t,e,o,a,s)}function s(t,e,n,r,o,a,s){return i(e^n^r,t,e,o,a,s)}function c(t,e,n,r,o,a,s){return i(n^(e|~r),t,e,o,a,s)}var u,f,l,p,h,d=function(t){var e,n=(t.length+8>>6)+1,r=Array(16*n);for(e=0;e<16*n;e++)r[e]=0;for(e=0;e<t.length;e++)r[e>>2]|=t.charCodeAt(e)<<e%4*8;return r[e>>2]|=128<<e%4*8,r[16*n-2]=8*t.length,r}(t),m=1732584193,x=-271733879,v=-1732584194,g=271733878;for(u=0;u<d.length;u+=16)f=m,l=x,p=v,h=g,m=o(m,x,v,g,d[u+0],7,-680876936),g=o(g,m,x,v,d[u+1],12,-389564586),v=o(v,g,m,x,d[u+2],17,606105819),x=o(x,v,g,m,d[u+3],22,-1044525330),m=o(m,x,v,g,d[u+4],7,-176418897),g=o(g,m,x,v,d[u+5],12,1200080426),v=o(v,g,m,x,d[u+6],17,-1473231341),x=o(x,v,g,m,d[u+7],22,-45705983),m=o(m,x,v,g,d[u+8],7,1770035416),g=o(g,m,x,v,d[u+9],12,-1958414417),v=o(v,g,m,x,d[u+10],17,-42063),x=o(x,v,g,m,d[u+11],22,-1990404162),m=o(m,x,v,g,d[u+12],7,1804603682),g=o(g,m,x,v,d[u+13],12,-40341101),v=o(v,g,m,x,d[u+14],17,-1502002290),x=o(x,v,g,m,d[u+15],22,1236535329),m=a(m,x,v,g,d[u+1],5,-165796510),g=a(g,m,x,v,d[u+6],9,-1069501632),v=a(v,g,m,x,d[u+11],14,643717713),x=a(x,v,g,m,d[u+0],20,-373897302),m=a(m,x,v,g,d[u+5],5,-701558691),g=a(g,m,x,v,d[u+10],9,38016083),v=a(v,g,m,x,d[u+15],14,-660478335),x=a(x,v,g,m,d[u+4],20,-405537848),m=a(m,x,v,g,d[u+9],5,568446438),g=a(g,m,x,v,d[u+14],9,-1019803690),v=a(v,g,m,x,d[u+3],14,-187363961),x=a(x,v,g,m,d[u+8],20,1163531501),m=a(m,x,v,g,d[u+13],5,-1444681467),g=a(g,m,x,v,d[u+2],9,-51403784),v=a(v,g,m,x,d[u+7],14,1735328473),x=a(x,v,g,m,d[u+12],20,-1926607734),m=s(m,x,v,g,d[u+5],4,-378558),g=s(g,m,x,v,d[u+8],11,-2022574463),v=s(v,g,m,x,d[u+11],16,1839030562),x=s(x,v,g,m,d[u+14],23,-35309556),m=s(m,x,v,g,d[u+1],4,-1530992060),g=s(g,m,x,v,d[u+4],11,1272893353),v=s(v,g,m,x,d[u+7],16,-155497632),x=s(x,v,g,m,d[u+10],23,-1094730640),m=s(m,x,v,g,d[u+13],4,681279174),g=s(g,m,x,v,d[u+0],11,-358537222),v=s(v,g,m,x,d[u+3],16,-722521979),x=s(x,v,g,m,d[u+6],23,76029189),m=s(m,x,v,g,d[u+9],4,-640364487),g=s(g,m,x,v,d[u+12],11,-421815835),v=s(v,g,m,x,d[u+15],16,530742520),x=s(x,v,g,m,d[u+2],23,-995338651),m=c(m,x,v,g,d[u+0],6,-198630844),g=c(g,m,x,v,d[u+7],10,1126891415),v=c(v,g,m,x,d[u+14],15,-1416354905),x=c(x,v,g,m,d[u+5],21,-57434055),m=c(m,x,v,g,d[u+12],6,1700485571),g=c(g,m,x,v,d[u+3],10,-1894986606),v=c(v,g,m,x,d[u+10],15,-1051523),x=c(x,v,g,m,d[u+1],21,-2054922799),m=c(m,x,v,g,d[u+8],6,1873313359),g=c(g,m,x,v,d[u+15],10,-30611744),v=c(v,g,m,x,d[u+6],15,-1560198380),x=c(x,v,g,m,d[u+13],21,1309151649),m=c(m,x,v,g,d[u+4],6,-145523070),g=c(g,m,x,v,d[u+11],10,-1120210379),v=c(v,g,m,x,d[u+2],15,718787259),x=c(x,v,g,m,d[u+9],21,-343485551),m=r(m,f),x=r(x,l),v=r(v,p),g=r(g,h);return n(m)+n(x)+n(v)+n(g)}var p="〔",h="〕";function d(t,e){for(var n=[],r=RegExp("".concat(p,"\\d+").concat(h));;){var i=t.search(r);if(-1==i)break;var o=parseInt(t.match(r)[0].substr(1));t=t.replace(r,""),n.push({part_idx:e,offset:i,index:o})}return[n,t]}function m(t,e){var n=t.parts,i=t.comment_pivots,c=t.comments,u=[],l=[],m=[];for(var x in n)!function(t){var c=parseInt(t);if(e.parts[t]){if(e.parts[t].insertBefore){var l,x=s(e.parts[t].insertBefore);try{for(x.s();!(l=x.n()).done;){var v=l.value,g=d(v.text,u.length),y=(0,r.Z)(g,2),b=y[0],j=y[1];u.push({type:v.type,text:j}),m.push.apply(m,(0,o.Z)(b))}}catch(t){x.e(t)}finally{x.f()}}if(!e.parts[t].delete){var Z=n[t].text;if(e.parts[t].diff){var w=Array.from(n[c].text);i.filter(function(t){return t.part_idx===c}).sort(function(t,e){return e.index-t.index}).forEach(function(t){return w.splice(t.offset,0,"".concat(p).concat(t.index).concat(h))});var C=w.join("");Z=new a.diff_match_patch().diff_fromDelta(C,e.parts[t].diff).filter(function(t){return -1!==t[0]}).map(function(t){return t[1]}).join("")}var k=d(Z,u.length),_=(0,r.Z)(k,2),O=_[0],A=_[1];u.push({type:e.parts[t].type||n[t].type,text:A}),m.push.apply(m,(0,o.Z)(O))}if(e.parts[t].insertAfter){var P,S=s(e.parts[t].insertAfter);try{for(S.s();!(P=S.n()).done;){var E=P.value,D=d(E.text,u.length),I=(0,r.Z)(D,2),R=I[0],B=I[1];u.push({type:E.type,text:B}),m.push.apply(m,(0,o.Z)(R))}}catch(t){S.e(t)}finally{S.f()}}}else m.push.apply(m,(0,o.Z)(i.filter(function(t){return t.part_idx===c}).map(function(t){return f(f({},t),{},{part_idx:u.length})}))),u.push(n[t])}(x);if(e.newComments&&e.newComments.length)l.push.apply(l,(0,o.Z)(e.newComments));else for(var v in c){var g=parseInt(v)+1;if(e.comments[g]){if(e.comments[g].insertBefore&&l.push.apply(l,(0,o.Z)(e.comments[g].insertBefore.map(function(t){return t.text}))),!e.comments[g].delete){var y=e.comments[g].diff?new a.diff_match_patch().diff_fromDelta(c[v],e.comments[g].diff).filter(function(t){return -1!==t[0]}).map(function(t){return t[1]}).join(""):c[v];l.push(y)}e.comments[g].insertAfter&&l.push.apply(l,(0,o.Z)(e.comments[g].insertAfter.map(function(t){return t.text})))}else l.push(t.comments[v])}var b=f({},t);return b.comments=l,b.parts=u,b.comment_pivots=m,"string"==typeof e.description?e.description.length&&(b.description=new a.diff_match_patch().diff_fromDelta(t.description||"",e.description).filter(function(t){return -1!==t[0]}).map(function(t){return t[1]}).join("")):b.description="",b}function x(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"00";return t||0===t?t<10?"0".concat(t):t:e}}}]);