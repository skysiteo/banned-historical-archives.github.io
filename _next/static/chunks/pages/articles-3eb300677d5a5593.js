(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[91],{4229:function(e,n,t){"use strict";var r=t(4836);n.Z=void 0;var i=r(t(4938)),a=t(5893),o=(0,i.default)((0,a.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"}),"Settings");n.Z=o},9902:function(e,n,t){"use strict";t.d(n,{Z:function(){return a}});var r=t(7918),i=t(5893);function a(e){var n=e.authors;return(0,i.jsx)(i.Fragment,{children:n.map(function(e){return(0,i.jsx)(r.Z,{onClick:function(){return window.open("/articles?author=".concat(encodeURIComponent(e.name)),"_blank")},sx:{m:.3},label:e.name},e.name)})})}},5578:function(e,n,t){"use strict";t.d(n,{Z:function(){return R}});var r=t(6447),i=t(7294),a=t(9499),o=t(948),l=t(1796),s=t(8462),c=t(7212),u=t(8619),d=t(9334),h=t(8780),f=t(326),m=t(2293),x=t(7357),p=t(7533),g=t(155),j=t(5861),b=t(3156),v=t(1057),Z=t(7600),y=t(1163),w=t(5449),_=t(787),C=t(3946),k=t(2761),S=t(5893),D=(0,o.ZP)("div")(function(e){var n=e.theme;return(0,a.Z)({position:"relative",borderRadius:n.shape.borderRadius,backgroundColor:(0,l.Fq)(n.palette.common.white,.15),"&:hover":{backgroundColor:(0,l.Fq)(n.palette.common.white,.25)},marginRight:n.spacing(2),marginLeft:0,width:"100%"},n.breakpoints.up("sm"),{marginLeft:n.spacing(3),width:"auto"})}),F=(0,o.ZP)("div")(function(e){return{padding:e.theme.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}}),P=(0,o.ZP)(_.ZP)(function(e){var n=e.theme;return{color:"inherit","& .MuiInputBase-input":(0,a.Z)({padding:n.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(n.spacing(4),")"),transition:n.transitions.create("width"),width:"100%"},n.breakpoints.up("md"),{width:"20ch"})}}),M=[{name:"首页",path:"/"},{name:"文稿",path:"/articles"},{name:"音乐",path:"/music"},{name:"图库",path:"/gallery"}];function E(){var e=(0,y.useRouter)(),n=(0,i.useState)(""),t=n[0],a=n[1],o=(0,i.useState)(!1),l=o[0],_=o[1],E=function(){_(!l)},O=(0,S.jsx)(x.Z,{onClick:E,sx:{textAlign:"center"},children:(0,S.jsx)(s.Z,{children:M.map(function(e){return(0,S.jsx)(c.ZP,{disablePadding:!0,children:(0,S.jsx)(u.Z,{sx:{textAlign:"center"},href:e.path,target:"_blank",children:(0,S.jsx)(d.Z,{primary:e.name})})},e.name)})})});return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(m.Z,{position:"static",children:(0,S.jsx)(b.Z,{maxWidth:"xl",children:(0,S.jsxs)(g.Z,{disableGutters:!0,children:[(0,S.jsxs)(r.Z,{sx:{position:"relative",ml:1,transform:"translateY(4px)"},children:[(0,S.jsx)(h.Z,{sx:{width:20,position:"absolute",bottom:"50%",left:"50%",transform:"translateX(-50%)"}}),(0,S.jsx)(Z.Z,{})]}),(0,S.jsx)(j.Z,{variant:"h6",noWrap:!0,component:"a",sx:{ml:1,mr:2,fontWeight:700,letterSpacing:".3rem",textDecoration:"none",cursor:"pointer"},style:{color:"white"},href:"/",onClick:function(){return e.push("/")},children:"和谐历史档案馆"}),(0,S.jsxs)(D,{sx:{display:{xs:"none",sm:"none",md:"flex",lg:"flex",xl:"flex"}},children:[(0,S.jsx)(F,{children:(0,S.jsx)(k.Z,{})}),(0,S.jsx)(P,{placeholder:"全站搜索",onKeyDown:function(n){if("Enter"===n.key){if("localhost"===location.hostname){e.push({pathname:"/search/[keyword]",query:{keyword:t}});return}window.open("https://duckduckgo.com?q="+encodeURIComponent("site:banned-historical-archives.github.io "+t),"_blank")}},value:t,onChange:function(e){return a(e.target.value)},inputProps:{"aria-label":"search"}})]}),(0,S.jsx)(r.Z,{sx:{flex:1}}),(0,S.jsxs)(r.Z,{sx:{display:{xs:"none",sm:"flex"}},direction:"row",justifyContent:"flex-end",children:[M.map(function(n){var t=n.name,r=n.path;return(0,S.jsx)(v.Z,{sx:{color:"white"},onClick:function(){return e.push(r)},children:t},r)}),(0,S.jsxs)(v.Z,{href:"https://github.com/banned-historical-archives/banned-historical-archives.github.io/issues",target:"_blank",sx:{color:"white"},children:[(0,S.jsx)(w.Z,{sx:{mr:1}}),"讨论"]})]}),(0,S.jsx)(C.Z,{size:"small",edge:"start",color:"inherit","aria-label":"menu",sx:{display:{xs:"flex",sm:"none"}},onClick:E,children:(0,S.jsx)(f.Z,{})})]})})}),(0,S.jsx)(x.Z,{component:"nav",children:(0,S.jsx)(p.ZP,{variant:"temporary",anchor:"right",open:l,onClose:E,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:240}},children:O})})]})}function O(){return null}var A=t(8078);function R(e){var n=e.children,t=(0,i.useState)(!1),a=t[0],o=t[1],l=(0,y.useRouter)();return(0,i.useEffect)(function(){var e=function(e){o(!0)},n=function(){o(!1)};return l.events.on("routeChangeStart",e),l.events.on("routeChangeComplete",n),l.events.on("routeChangeError",n),function(){l.events.off("routeChangeStart",e),l.events.off("routeChangeComplete",n),l.events.off("routeChangeError",n)}},[l]),(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)(r.Z,{sx:{position:"absolute",height:"100%",width:"100%"},direction:"column",children:[(0,S.jsx)(E,{}),a?(0,S.jsxs)(r.Z,{spacing:1,p:2,children:[(0,S.jsx)(A.Z,{variant:"text",sx:{fontSize:"1rem"}}),(0,S.jsx)(A.Z,{variant:"rectangular",height:60}),(0,S.jsx)(A.Z,{variant:"rectangular",height:60}),(0,S.jsx)(A.Z,{variant:"rectangular",height:60}),(0,S.jsx)(A.Z,{variant:"rectangular",height:60})]}):(0,S.jsx)("main",{style:{flex:1,position:"relative",overflow:"hidden"},children:n}),(0,S.jsx)(O,{})]})})}},4509:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});var r=t(7918),i=t(5861),a=t(7294),o=t(4564),l=t(5893);function s(e){var n=e.tags,t=(0,a.useState)(null),s=t[0],c=t[1],u=(0,a.useState)(""),d=u[0],h=u[1],f=function(){c(null)},m=Boolean(s);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(o.ZP,{open:m,anchorEl:s,disableRestoreFocus:!0,sx:{pointerEvents:"none"},anchorOrigin:{vertical:"bottom",horizontal:"center"},children:(0,l.jsx)(i.Z,{sx:{p:2},children:d})}),n.map(function(e){return(0,l.jsx)(r.Z,{onMouseEnter:function(n){h(e.type),c(n.currentTarget)},onMouseLeave:f,onClick:function(){return window.open("/articles?tag=".concat(encodeURIComponent(e.name)),"_blank")},sx:{m:.3},label:e.name},e.id)})]})}},9947:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSG:function(){return J},default:function(){return V}});var r=t(7294),i=t(4564),a=t(9008),o=t.n(a),l=t(8259),s=t(7713),c=t(5578),u=t(6886),d=t(1057),h=t(7918),f=t(6447),m=t(4229),x=t(5861),p=t(4509),g=t(9902),j=t(9499),b=t(3366),v=t(7462),Z=t(6010),y=t(4780),w=t(948),_=t(1657),C=t(1588),k=t(4867);function S(e){return(0,k.Z)("MuiDialogActions",e)}(0,C.Z)("MuiDialogActions",["root","spacing"]);var D=t(5893);let F=["className","disableSpacing"],P=e=>{let{classes:n,disableSpacing:t}=e;return(0,y.Z)({root:["root",!t&&"spacing"]},S,n)},M=(0,w.ZP)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,n)=>{let{ownerState:t}=e;return[n.root,!t.disableSpacing&&n.spacing]}})(({ownerState:e})=>(0,v.Z)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!e.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})),E=r.forwardRef(function(e,n){let t=(0,_.Z)({props:e,name:"MuiDialogActions"}),{className:r,disableSpacing:i=!1}=t,a=(0,b.Z)(t,F),o=(0,v.Z)({},t,{disableSpacing:i}),l=P(o);return(0,D.jsx)(M,(0,v.Z)({className:(0,Z.Z)(l.root,r),ownerState:o,ref:n},a))});function O(e){return(0,k.Z)("MuiDialogContent",e)}(0,C.Z)("MuiDialogContent",["root","dividers"]);var A=t(4472);let R=["className","dividers"],z=e=>{let{classes:n,dividers:t}=e;return(0,y.Z)({root:["root",t&&"dividers"]},O,n)},N=(0,w.ZP)("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,n)=>{let{ownerState:t}=e;return[n.root,t.dividers&&n.dividers]}})(({theme:e,ownerState:n})=>(0,v.Z)({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},n.dividers?{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}:{[`.${A.Z.root} + &`]:{paddingTop:0}})),T=r.forwardRef(function(e,n){let t=(0,_.Z)({props:e,name:"MuiDialogContent"}),{className:r,dividers:i=!1}=t,a=(0,b.Z)(t,R),o=(0,v.Z)({},t,{dividers:i}),l=z(o);return(0,D.jsx)(N,(0,v.Z)({className:(0,Z.Z)(l.root,r),ownerState:o,ref:n},a))});var I=t(657),W=t(1903),L=t(7645);function G(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function q(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?G(Object(t),!0).forEach(function(n){(0,j.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):G(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var U={year_a:1800,year_b:2200,month_a:1,month_b:12,day_a:1,day_b:31};function X(e){var n=parseInt(e);if(!isNaN(n)&&n!=1/0&&n!=-1/0)return n}var B=["毛泽东","江青","王洪文","张春桥","姚文元"],$=t(7812),H=t(1145),Q=["毛泽东选集","毛泽东全集","毛泽东文集","中国文化大革命文库"];function Y(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e||0===e?e<10?"0".concat(e):e:n}var K=[{field:"title",headerName:"标题",minWidth:350,flex:1,renderCell:function(e){return(0,D.jsx)("a",{href:"/articles/".concat(e.row.id),rel:"noreferrer",target:"_blank",children:e.row.title})}},{field:"authors",headerName:"作者",minWidth:150,flex:1,valueGetter:function(e){return e.row.authors.map(function(e){return e.name}).join(",")},renderCell:function(e){return(0,D.jsx)("div",{style:{overflow:"visible"},children:(0,D.jsx)(g.Z,{authors:e.row.authors})})}},{field:"dates",headerName:"时间",description:"可能包含多个时间点（起草时间，发布时间，子文稿时间等）或时间段",minWidth:150,flex:1,valueGetter:function(e){return e.row.dates.map(function(e){return e?[e.year||"----",Y(e.month,"--"),Y(e.day,"--")].filter(function(e){return e}).join("/"):"----/--/--"}).join(" ")},renderCell:function(e){return(0,D.jsx)(f.Z,{spacing:1,children:e.row.is_range_date?(0,D.jsx)(x.Z,{variant:"caption",children:e.row.dates.map(function(e){return[e.year,Y(e.month),Y(e.day)].filter(function(e){return e}).join("/")}).sort(function(e,n){return e>n?1:-1}).join("至")}):e.row.dates.map(function(e){return[e.year,Y(e.month),Y(e.day)].filter(function(e){return e}).join("/")}).map(function(e){return(0,D.jsx)(x.Z,{variant:"caption",children:e},e)})})}},{field:"publications",headerName:"来源",flex:1,minWidth:150,valueGetter:function(e){return e.row.publications.map(function(e){return e.name}).join(",")}},{field:"tags",headerName:"标签",minWidth:150,flex:1,sortComparator:function(e,n){return e>n?1:-1},valueGetter:function(e){return e.row.tags.map(function(e){return e.name}).join(",")},renderCell:function(e){return(0,D.jsx)("div",{style:{overflow:"visible"},children:(0,D.jsx)(p.Z,{tags:e.row.tags})})}}],J=!0;function V(e){var n,t,a,c,p,g,j,b,v,Z,y,w,_,C,k,S,F,P,M,O,A,R,z,N,G,Y,J,V,ee,en,et,er,ei,ea,eo,el,es,ec,eu,ed,eh,ef,em,ex,ep,eg,ej,eb,ev,eZ,ey,ew,e_,eC,ek,eS,eD,eF,eP=e.articles,eM=(0,r.useMemo)(function(){var e=new Map;return eP.forEach(function(n){return n.tags.forEach(function(n){e.set(n.id,n)})}),e},[eP]),eE=(0,r.useMemo)(function(){var e=new Map;return eP.forEach(function(n){return n.tags.forEach(function(n){e.get(n.type)||e.set(n.type,new Map),e.get(n.type).set(n.id,n)})}),e},[eP]),eO=(0,r.useMemo)(function(){var e=new Set;return eP.forEach(function(n){return n.publications.forEach(function(n){return n.name&&e.add(n.name)})}),Array.from(e).sort()},[eP]),eA=(0,r.useMemo)(function(){var e=new Set;return eP.forEach(function(n){return n.authors.forEach(function(n){return n.name&&e.add(n.name)})}),Array.from(e).sort()},[eP]),eR=(a=(t=(0,r.useState)(!1))[0],c=t[1],g=(p=(0,r.useState)(null))[0],j=p[1],b=Array.from((null===(n=eE.get(H.Qy.articleType))||void 0===n?void 0:n.values())||[]),Z=(v=(0,r.useState)(b))[0],y=v[1],_=(w=(0,r.useState)(eM[Symbol.iterator]().next().value?eM[Symbol.iterator]().next().value[1].id:""))[0],C=w[1],k=(0,r.useCallback)(function(){return c(!1)},[]),S=(0,r.useCallback)(function(){y(Array.from(new Set([].concat((0,$.Z)(b.map(function(e){return e.id})),[_]))).map(function(e){return eM.get(e)})),j(_),c(!1)},[Z,_]),{TagDialog:(0,D.jsxs)(I.Z,{onClose:k,open:a,children:[(0,D.jsx)(L.Z,{children:"选择标签"}),(0,D.jsx)(T,{children:Array.from(eE.keys()).map(function(e){return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)(x.Z,{variant:"body1",sx:{whiteSpace:"nowrap"},children:[e,"："]}),Array.from(eE.get(e).values()).map(function(e){return(0,D.jsx)(h.Z,{sx:{m:.5},onClick:function(){return C(e.id)},label:e.name,color:_===e.id?"primary":"default",variant:_===e.id?"filled":"outlined"},e.id)})]})})}),(0,D.jsxs)(E,{children:[(0,D.jsx)(d.Z,{onClick:k,children:"取消"}),(0,D.jsx)(d.Z,{onClick:S,autoFocus:!0,children:"确定"})]})]}),tagFilter:g,setTagDialog:c,setTagFilter:j,tags:Z}),ez=eR.TagDialog,eN=eR.tagFilter,eT=eR.setTagDialog,eI=eR.setTagFilter,eW=eR.tags,eL=(P=(F=(0,r.useState)(U))[0],M=F[1],A=(O=(0,r.useState)(q({show:!1},U)))[0],R=O[1],z=(0,r.useCallback)(function(e){return R(function(n){return q(q({},n),{},{day_a:X(e.target.value)})})},[]),N=(0,r.useCallback)(function(e){return R(function(n){return q(q({},n),{},{month_a:X(e.target.value)})})},[]),G=(0,r.useCallback)(function(e){return R(function(n){return q(q({},n),{},{day_b:X(e.target.value)})})},[]),Y=(0,r.useCallback)(function(e){return R(function(n){return q(q({},n),{},{month_b:X(e.target.value)})})},[]),J=(0,r.useCallback)(function(e){return R(function(n){return q(q({},n),{},{year_b:X(e.target.value)})})},[]),V=(0,r.useCallback)(function(e){return R(function(n){return q(q({},n),{},{year_a:X(e.target.value)})})},[]),ee=(0,r.useCallback)(function(){return R(function(e){return q(q({},e),{},{show:!1})})},[]),en=(0,r.useCallback)(function(){var e={};A.year_a&&A.year_b&&A.year_b>=A.year_a&&(e.year_a=A.year_a,e.year_b=A.year_b),A.month_a&&A.month_b&&A.month_a>=1&&A.month_a<=12&&A.month_b>=1&&A.month_b<=12&&(e.month_a=A.month_a,e.month_b=A.month_b),A.day_a&&A.day_b&&A.day_a>=1&&A.day_a<=31&&A.day_b>=1&&A.day_b<=31&&(e.day_a=A.day_a,e.day_b=A.day_b),e.year_a&&e.month_a&&e.day_a&&(R(function(e){return q(q({},e),{},{show:!1})}),M(function(n){return e}))},[A]),{DateFilterDialog:(0,D.jsxs)(I.Z,{onClose:ee,open:A.show,children:[(0,D.jsx)(L.Z,{children:"时间过滤器"}),(0,D.jsx)(T,{children:(0,D.jsxs)(f.Z,{spacing:1,children:[(0,D.jsx)(x.Z,{variant:"subtitle1",children:"开始时间"}),(0,D.jsx)(W.Z,{label:"年",value:A.year_a,size:"small",onChange:V}),(0,D.jsx)(W.Z,{label:"月",value:A.month_a,size:"small",onChange:N}),(0,D.jsx)(W.Z,{label:"日",value:A.day_a,size:"small",onChange:z}),(0,D.jsx)(x.Z,{variant:"subtitle1",children:"结束时间"}),(0,D.jsx)(W.Z,{label:"年",value:A.year_b,size:"small",onChange:J}),(0,D.jsx)(W.Z,{label:"月",value:A.month_b,size:"small",onChange:Y}),(0,D.jsx)(W.Z,{label:"日",value:A.day_b,size:"small",onChange:G})]})}),(0,D.jsxs)(E,{children:[(0,D.jsx)(d.Z,{onClick:ee,children:"取消"}),(0,D.jsx)(d.Z,{onClick:en,autoFocus:!0,children:"确定"})]})]}),dateFilter:P,showDateFilterDialog:function(){return R(function(e){return q(q({},e),{},{show:!0})})}}),eG=eL.DateFilterDialog,eq=eL.dateFilter,eU=eL.showDateFilterDialog,eX=(er=(et=(0,r.useState)(!1))[0],ei=et[1],eo=(ea=(0,r.useState)(null))[0],el=ea[1],ec=(es=(0,r.useState)(B))[0],eu=es[1],eh=(ed=(0,r.useState)(eA[0]))[0],ef=ed[1],em=(0,r.useCallback)(function(){return ei(!1)},[]),ex=(0,r.useCallback)(function(){eu(Array.from(new Set([].concat(B,[eh])))),el(eh),ei(!1)},[ec,eh]),{AuthorDialog:(0,D.jsxs)(I.Z,{onClose:em,open:er,children:[(0,D.jsx)(L.Z,{children:"选择作者"}),(0,D.jsx)(T,{children:eA.map(function(e){return(0,D.jsx)(h.Z,{sx:{m:.5},onClick:function(){return ef(e)},label:e,color:eh===e?"primary":"default",variant:eh===e?"filled":"outlined"},e)})}),(0,D.jsxs)(E,{children:[(0,D.jsx)(d.Z,{onClick:em,children:"取消"}),(0,D.jsx)(d.Z,{onClick:ex,autoFocus:!0,children:"确定"})]})]}),authorFilter:eo,setAuthorDialog:ei,setAuthorFilter:el,authors:ec}),eB=eX.authors,e$=eX.authorFilter,eH=eX.setAuthorFilter,eQ=eX.AuthorDialog,eY=eX.setAuthorDialog,eK=(eg=(ep=(0,r.useState)(!1))[0],ej=ep[1],ev=(eb=(0,r.useState)(null))[0],eZ=eb[1],ew=(ey=(0,r.useState)(Q))[0],e_=ey[1],ek=(eC=(0,r.useState)(eO[0]))[0],eS=eC[1],eD=(0,r.useCallback)(function(){return ej(!1)},[]),eF=(0,r.useCallback)(function(){e_(Array.from(new Set([].concat(Q,[ek])))),eZ(ek),ej(!1)},[ew,ek]),{SourceDialog:(0,D.jsxs)(I.Z,{onClose:eD,open:eg,children:[(0,D.jsx)(L.Z,{children:"选择来源"}),(0,D.jsx)(T,{children:eO.map(function(e){return(0,D.jsx)(h.Z,{sx:{m:.5},onClick:function(){return eS(e)},label:e,color:ek===e?"primary":"default",variant:ek===e?"filled":"outlined"},e)})}),(0,D.jsxs)(E,{children:[(0,D.jsx)(d.Z,{onClick:eD,children:"取消"}),(0,D.jsx)(d.Z,{onClick:eF,autoFocus:!0,children:"确定"})]})]}),sourceFilter:ev,setSourceDialog:ej,setSourceFilter:eZ,sources:ew}),eJ=eK.sources,eV=eK.sourceFilter,e0=eK.setSourceFilter,e1=eK.SourceDialog,e2=eK.setSourceDialog,e4=(0,r.useState)(null),e3=e4[0],e6=e4[1],e9=function(e){e6(e.currentTarget)},e5=(0,r.useMemo)(function(){return eP.filter(function(e){return function(e,n){var t=1e4*n.year_a+100*n.month_a+n.day_a,r=1e4*n.year_b+100*n.month_b+n.day_b;if(!e.is_range_date)return e.dates.reduce(function(e,n){var i=1e4*n.year+100*(n.month||0)+(n.day||0);return e&&t<=i&&r>=i},!0);var i=1e4*e.dates[0].year+100*(e.dates[0].month||0)+(e.dates[0].day||0),a=1e4*e.dates[1].year+100*(e.dates[1].month||0)+(e.dates[1].day||0);return i>=t&&a<=r}(e,eq)}).filter(function(e){return!e$||!!e.authors.find(function(e){return e.name===e$})}).filter(function(e){return!eV||!!e.publications.find(function(e){return e.name.indexOf(eV)>-1})}).filter(function(e){return!eN||!!e.tags.find(function(e){return e.id===eN})})},[eP,eq,eN,e$,eV]);return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(o(),{children:(0,D.jsx)("title",{children:"和谐历史档案馆 Banned Historical Archives"})}),eG,eQ,e1,ez,(0,D.jsxs)(f.Z,{p:2,spacing:2,sx:{position:"relative",flex:1,height:"100%"},children:[(0,D.jsx)(f.Z,{direction:"row",children:(0,D.jsxs)(u.ZP,{container:!0,spacing:1,children:[(0,D.jsx)(u.ZP,{item:!0,xs:12,md:5,children:(0,D.jsxs)(f.Z,{direction:"row",alignItems:"center",children:[(0,D.jsx)(x.Z,{variant:"body1",sx:{whiteSpace:"nowrap"},children:"时间范围："}),(0,D.jsx)(f.Z,{direction:"row",spacing:1,children:(0,D.jsx)(h.Z,{icon:(0,D.jsx)(m.Z,{fontSize:"small"}),onClick:function(){return eU()},label:["".concat(eq.year_a,"年"),"".concat(eq.month_a,"月"),"".concat(eq.day_a,"日")].join(" ")+" - "+["".concat(eq.year_b,"年"),"".concat(eq.month_b,"月"),"".concat(eq.day_b,"日")].join(" "),color:"primary",variant:"filled"})})]})}),(0,D.jsx)(u.ZP,{item:!0,xs:12,md:7,sx:{overflowX:"scroll"},children:(0,D.jsxs)(f.Z,{direction:"row",alignItems:"center",children:[(0,D.jsx)(x.Z,{variant:"body1",sx:{whiteSpace:"nowrap"},children:"标签："}),(0,D.jsxs)(f.Z,{direction:"row",spacing:1,children:[eW.map(function(e){var n=e.id==eN;return(0,D.jsx)(h.Z,{label:e.name,variant:n?"filled":"outlined",color:n?"primary":"default",onDelete:n?function(){return eI(null)}:void 0,onClick:function(n){eI(e.id)}},e.id)}),(0,D.jsx)(h.Z,{label:"更多",onClick:function(e){eT(!0)}})]})]})}),(0,D.jsx)(u.ZP,{item:!0,xs:12,md:5,sx:{overflowX:"scroll"},children:(0,D.jsxs)(f.Z,{direction:"row",alignItems:"center",children:[(0,D.jsx)(x.Z,{variant:"body1",children:"作者："}),(0,D.jsxs)(f.Z,{direction:"row",spacing:1,children:[eB.map(function(e){return(0,D.jsx)(h.Z,{label:e,variant:e==e$?"filled":"outlined",color:e==e$?"primary":"default",onDelete:e==e$?function(){return eH(null)}:void 0,onClick:function(n){eH(e)}},e)}),(0,D.jsx)(h.Z,{label:"更多",onClick:function(e){eY(!0)}})]})]})}),(0,D.jsx)(u.ZP,{item:!0,xs:12,md:6,sx:{overflowX:"scroll"},children:(0,D.jsxs)(f.Z,{direction:"row",alignItems:"center",children:[(0,D.jsx)(x.Z,{variant:"body1",sx:{whiteSpace:"nowrap"},children:"来源："}),(0,D.jsxs)(f.Z,{direction:"row",spacing:1,children:[eJ.map(function(e){var n=e==eV;return(0,D.jsx)(h.Z,{label:e,variant:n?"filled":"outlined",color:n?"primary":"default",onDelete:n?function(){return e0(null)}:void 0,onClick:function(n){e0(e)}},e)}),(0,D.jsx)(h.Z,{label:"更多",onClick:function(e){e2(!0)}})]})]})}),(0,D.jsxs)(u.ZP,{item:!0,xs:1,md:1,sx:{display:{md:"flex",xs:"none"}},children:[(0,D.jsxs)(i.ZP,{id:"tips",open:!!e3,anchorEl:e3,disableRestoreFocus:!0,sx:{pointerEvents:"none"},anchorOrigin:{vertical:"bottom",horizontal:"center"},children:[(0,D.jsx)("img",{src:"/images/filter.png",width:"200"}),(0,D.jsx)(x.Z,{sx:{p:2},children:"可在每一列右上角添加筛选器进行高级检索"})]}),(0,D.jsx)(d.Z,{onClick:e9,onMouseEnter:e9,onMouseLeave:function(){e6(null)},sx:{fontSize:11,width:"100%"},children:"高级检索"})]})]})}),(0,D.jsx)(f.Z,{sx:{flex:1,width:"100%"},children:(0,D.jsx)(l.s,{getRowId:function(e){return e.id},initialState:{sorting:{sortModel:[{field:"dates",sort:"asc"}]},filter:{filterModel:{items:"undefined"!=typeof location&&location.search?location.search.startsWith("?tag=")?[{columnField:"tags",value:decodeURIComponent(location.search.split("=")[1])}]:location.search.startsWith("?author=")?[{columnField:"authors",value:decodeURIComponent(location.search.split("=")[1])}]:[]:[]}}},localeText:s.U.components.MuiDataGrid.defaultProps.localeText,getRowHeight:function(){return"auto"},rows:e5,columns:K,pageSize:100,rowsPerPageOptions:[100],disableSelectionOnClick:!0})})]})]})}V.getLayout=function(e){return(0,D.jsx)(c.Z,{children:e})}},1145:function(e,n,t){"use strict";var r,i,a,o,l,s,c,u,d,h;t.d(n,{Qy:function(){return i},zc:function(){return o}}),(s=r||(r={})).centralFile="中央文件",s.editorial="重要报刊和社论",s.keyFigures="关键人物文稿",s.keyPapersFromTheMasses="群众运动重要文献",(c=i||(i={})).articleCategory="文稿大类",c.articleType="文稿类型",c.place="地点",c.character="人物",c.issuer="出版方/发行方",c.subject="主题/事件",c.recorder="记录",c.reviewer="审核",c.translator="翻译",c.reprint="翻印/传抄",(u=a||(a={})).place="place",u.character="character",u.subject="subject",(d=o||(o={})).appellation="appellation",d.title="title",d.authors="authors",d.place="place",d.subtitle="subtitle",d.subtitle2="subtitle2",d.subtitle3="subtitle3",d.subtitle4="subtitle4",d.subtitle5="subtitle5",d.subdate="subdate",d.paragraph="paragraph",d.quotation="quotation",d.signature="signature",d.image="image",d.image_description="image_description",(h=l||(l={})).writings="文章",h.mail="书信",h.lecture="发言",h.talk="对话",h.declaration="宣言",h.instruction="指示",h.comment="批示",h.telegram="通讯"},5615:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/articles",function(){return t(9947)}])}},function(e){e.O(0,[563,810,598,386,336,120,794,774,888,179],function(){return e(e.s=5615)}),_N_E=e.O()}]);