(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[214],{3419:function(e,n,r){"use strict";r.r(n),r.d(n,{__N_SSG:function(){return j},default:function(){return p}});var t=r(7294),i=r(9008),o=r.n(i),l=r(5578),u=r(6447),a=r(5861),s=r(8259),c=r(7713),d=r(6350),f=r(7918),h=r(4564),x=r(5893);function m(e){var n=e.tags,r=(0,t.useState)(null),i=r[0],o=r[1],l=(0,t.useState)(""),u=l[0],s=l[1],c=function(){o(null)},d=Boolean(i);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(h.ZP,{open:d,anchorEl:i,disableRestoreFocus:!0,sx:{pointerEvents:"none"},anchorOrigin:{vertical:"bottom",horizontal:"center"},children:(0,x.jsx)(a.Z,{sx:{p:2},children:u})}),n.map(function(e){return(0,x.jsx)(f.Z,{onMouseEnter:function(n){s(e.type),o(n.currentTarget)},onMouseLeave:c,sx:{m:.3},label:e.name},e.id)})]})}var w=[{field:"url",headerName:"预览",minWidth:350,flex:1,renderCell:function(e){return(0,x.jsx)("img",{src:e.row.url,width:"100%"})}},{field:"name",headerName:"名称",minWidth:350,flex:1,renderCell:function(e){return(0,x.jsx)("div",{children:e.row.name})}},{field:"description",headerName:"描述",minWidth:150,flex:1,renderCell:function(e){return(0,x.jsx)("div",{children:e.row.description})}},{field:"source",headerName:"来源",flex:1,renderCell:function(e){return(0,x.jsx)("div",{children:e.row.source})}},{field:"dates",headerName:"时间",minWidth:150,flex:1,valueGetter:function(e){return e.row.year?[e.row.year||"----",(0,d.oD)(e.row.month,"--"),(0,d.oD)(e.row.day,"--")].filter(function(e){return e}).join("/"):"----/--/--"},renderCell:function(e){return(0,x.jsx)(u.Z,{spacing:1,children:(0,x.jsx)(a.Z,{variant:"caption",children:e.row.year?[e.row.year,(0,d.oD)(e.row.month),(0,d.oD)(e.row.day)].filter(function(e){return e}).join("/"):"----/--/--"})})}},{field:"tags",headerName:"标签",minWidth:150,flex:1,sortComparator:function(e,n){return e>n?1:-1},valueGetter:function(e){return e.row.tags.map(function(e){return e.name}).join(",")},renderCell:function(e){return(0,x.jsx)("div",{style:{overflow:"visible"},children:(0,x.jsx)(m,{tags:e.row.tags})})}}],j=!0;function p(e){var n=e.images;return(0,x.jsxs)(u.Z,{p:2,sx:{height:"100%",overflow:"scroll"},children:[(0,x.jsx)(o(),{children:(0,x.jsx)("title",{children:"和谐历史档案馆 Banned Historical Archives"})}),(0,x.jsx)(a.Z,{variant:"h4",sx:{mb:1},children:"图库"}),(0,x.jsx)(u.Z,{sx:{flex:1,width:"100%"},children:(0,x.jsx)(s.s,{getRowId:function(e){return e.id},localeText:c.U.components.MuiDataGrid.defaultProps.localeText,getRowHeight:function(){return"auto"},rows:n,columns:w,pageSize:100,rowsPerPageOptions:[100],disableSelectionOnClick:!0})})]})}p.getLayout=function(e){return(0,x.jsx)(l.Z,{children:e})}},8084:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/gallery",function(){return r(3419)}])}},function(e){e.O(0,[563,810,598,386,336,51,120,416,774,888,179],function(){return e(e.s=8084)}),_N_E=e.O()}]);